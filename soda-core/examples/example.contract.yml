# Optional, default is ../../data_source.yml
data_source_file: ../../postgres_test_ds.yml

# Optional, default is derived from data source file {database_name}/{schema_name}/data_source.yml
dataset_location_postgres:
  database: soda_test
  schema: dev_tom

dataset: SODATEST_test_schema_31761d69

checks_filter:
  variables:
  expression_sql:

columns:
  - name: id
    data_type: varchar(255)
    valid_max_length: 255
    valid_values: ['M']
    checks:
      - type: missing_count
      - type: invalid_percent
      - type: duplicate_count
      - type: freshness
      - type: sql_metric
        metric_expression_sql: COUNT(SOMETHING)
        metric_query_sql: SELECT COUNT(SOMETHING) FROM ...
        metric_name: us_count
      - type: failed_rows_query
        failed_rows_sql: SELECT * FROM ...
  - name: other_column
checks:
  - type: schema
    extra_columns_allowed: true
