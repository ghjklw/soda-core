dataset: ORDERS

# The top level contains the full schema and should include the default test suite.
# It should be owned by the producer and it's recommended that it is triggered from the pipeline

# Non-producers should not have access to edit checks in the default in-pipeline

time_column: created_at

checks_filter:
  now_variable: NOW
  time_window: 24h

columns:
  - name: id
    checks:
      - type: missing_count
  - name: customer_id
  - name: date
  - name: items
  - name: created_at

checks:
  - type: row_count


other_check_suites:

  # Each check suite is a group of checks
  # The columns and checks sections are duplicated from the top level.

  - check_suite_name: Daily at 2am, last 5 days
    owner: john@example.com
    time_schedule: * * 2 * *
    checks_time_filter:
      time_window_in_days: 5
    columns:
      - name: id
        checks:
          - type: missing_count
          - type: duplicate_count

    checks:
      - type: row_count

  - check_suite_name: Daily at 3am, Last 3 days, USA only
    owner: john@example.com
    time_schedule: * * 3 * *
    checks_time_filter:
      time_window_in_days: 3
    checks_data_filter_sql: "country" = 'USA'
    columns:
      - name: id
        checks:
          - type: user_defined_metric
            metric_expression_sql: SUM(items)
            metric_name: items_total

  - check_suite_name: non_blocking_pipeline_checks
    columns:
      - name: id
        checks:
